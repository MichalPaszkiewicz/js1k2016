function fs(t){c.fillStyle=t}r="red",g="lime",l="blue",k="navy",u=v=9,q=Math.random,z=Math.pow,e=[[,,r,,0],[,r,r,r,0],[,r,r,r,0],[,,,,0],[k,l,,l,k],[,l,l,l,0],[,k,,k,0]],s=[[,,k,,k,,,,0],[k,k,k,k,k,k,k,k,k],[,,k,,k,,,,0]],sp=[],st=0,f=function(){for(aa in"  ")sp.push({x:999,y:999*q()|1,v:5*q()|1});return st?(fs(r),c.fillRect(0,0,9999,9999),fs(k),c.font="30px arial",void c.fillText("You died. Sorry. Press space to restart",99,99)):(c.clearRect(0,0,9999,9999),e.forEach(function(t,e){for(j=0;j<t.length;j++)t[j]&&(c.beginPath(),fs(t[j]),c.fillRect(u+9*j,v+9*e,9,9))}),sp.forEach(function(t){t.x-=t.v,s.forEach(function(e,f){for(c.beginPath(),fs(k),j=0;j<e.length;j++)e[j]&&c.fillRect(9*t.x+9*j,9*t.y+9*f,9,9)}),(Math.sqrt(z(u/9+2.5-(t.x+3.5),2)+z(v/9+3.5-(t.y+1.5),2))<4.3||u>a.width||u<0||v>a.height||v<0)&&(st=1)}),void setTimeout(f,9))},f(),b.onkeydown=function(e){e.preventDefault,t=e.keyCode,38==t&&(v-=9),37==t&&(u-=9),40==t&&(v+=9),39==t&&(u+=9),32==t&&(st=0,sp=[],u=v=9,f())};
